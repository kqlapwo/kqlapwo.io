<!doctype html>
<html lang="ko">
 <head>
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"> </script>
  <meta charset = "utf-8">
  <title>Statistics</title>
  <script>$(document).ready(function () {
    $('.clickBtn').bind('click', function() {
              var trNum = $(this).closest('tr').prevAll().length;
        statistics(trNum);
          });
  });</script>
   </head>
  <script language = "javascript">
    function statistics(data){
matchnumber = data;
matchsports = "soccer";
location.href="statistics.html?" + matchnumber + "/" + matchsports;
    }
</script>
<body>
    <!-- HTML -->
    <table id="table" class="table">
      <thead>
        <tr>
          <th>번호</th>
          <th>홈팀</th>
          <th></th>
          <th>:</th>
          <th></th>
          <th>원정팀</th>
          <th>통계</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
   <script type="text/javascript" src="matchdata.json"></script>
        <script type="text/javascript" >
             function toDOM(row) {
        var tr = "";
        tr += "<tr>";
        tr += "  <td>" + row.matchnumber + "</td>";
        tr += "  <td>" + row.hometeam + "</td>";
        tr += "  <td>" + row.homescore + "</td>";
        tr += "  <td>" + ":" + "</td>";
        tr += "  <td>" + row.awayscore + "</td>";
        tr += "  <td>" + row.awayteam + "</td>";
        tr += "  <td>" + row.awayteam + "</td>";
        tr += "  <td>" + "<button type=button class=clickBtn>" + "통계" + "</button>"  + "</td>";
        tr += "</tr>";
        return tr;
      }

      function renderTable(id, dataList) {
        
        var size = dataList.length;
        var trList = "";
        for (var i = 0; i < size; i++) {
          trList += toDOM(dataList[i]);
        }
        document.querySelector("#" + id + " tbody").innerHTML = trList;
      }

      window.onload = function () {

        renderTable("table", load());
      };
            function load() {
                var mydata = JSON.parse(data);
                var div = document.getElementById('data');
                return mydata;
            }
        </script>                     


  <body>
        <div id="data">

        </div>
    </body>                         

</html>
