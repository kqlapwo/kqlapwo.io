<!doctype html>
<html lang="ko">
 <head>
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"> </script>
  <meta charset = "utf-8">
  <title>Statistics</title>
  
   </head>
  <script language = "javascript">
    
</script>
<body>
    <script></script>
    <!-- HTML -->
    <table id="table" class="table">
      <thead>
        <tr>
          <td>번호</td>
          <td>홈팀</td>
          <td></td>
          <td>:</td>
          <td></td>
          <td>원정팀</td>
          <td>날짜</td>
          <td>통계</td>
          <td>경기</td>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
   <script type="text/javascript" src="matchdata.json"></script>
        <script type="text/javascript" >
             function toDOM(row, number) {  
          
        var tr = "";
        tr += "<tr>";
        tr += "  <td>" + row.matchnumber + "</td>";
        var hometeamurl = "teamstatistics.html?" + row.hometeamname
        tr += "  <td>" + "<a href = "+ hometeamurl+ ">"+ row.hometeam + "</a>" + "</td>";
        tr += "  <td>" + row.homescore + "</td>";
        tr += "  <td>" + ":" + "</td>";
        tr += "  <td>" + row.awayscore + "</td>";
        var awayteamurl = "teamstatistics.html?" + row.awayteamname 
        tr += "  <td>" + "<a href = "+ awayteamurl+ ">"+ row.awayteam + "</a>" + "</td>";
        tr += "  <td>" + row.matchdate  + "</td>";
        var url = "statistics.html?" + row.matchnumber + "/" + "soccer";
        tr += "  <td>" + "<a href =" + url + ">" +  "통계" + "</a>"  + "</td>";
        var matchdone = "";
        if(row.homeshoot > 0) {
            matchdone = "종료"
        }
        else{
            matchdone = "경기전"
        }
        tr += "  <td>" + matchdone + "</td>";
        tr += "</tr>";
        return tr;
      }

      function renderTable(id, dataList) {
        
        var size = dataList.length;
        var trList = "";
        for (var i = 0; i < size; i++) {
          trList += toDOM(dataList[i], i);
        }
        document.querySelector("#" + id + " tbody").innerHTML = trList;
      }

      window.onload = function () {
        renderTable("table", matchload());
      };
            function matchload() {
                var mydata = JSON.parse(data);
                return mydata;
            }
        </script>                     

  <body>
        <div id="data">

        </div>
    </body>                   

</html>
